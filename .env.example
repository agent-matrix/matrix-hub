# ==============================================================================
# Matrix Hub â€” environment for local dev (uvicorn / docker compose)
# Copy to ".env" and adjust as needed.
# ==============================================================================

# -------------------------
# Server
# -------------------------
APP_NAME=matrix-hub
HOST=0.0.0.0
PORT=443
LOG_LEVEL=INFO

# Optional admin API token for protected endpoints (leave blank to disable auth)
API_TOKEN=

# -------------------------
# Database
# Default: SQLite for local quickstart
DATABASE_URL=sqlite+pysqlite:///./data/catalog.sqlite

# To use Postgres instead, uncomment this line:
# DATABASE_URL=postgresql+psycopg://matrix:matrix@localhost:5432/matrixhub

# Dev-only convenience: if true and using SQLite, create tables on startup
# (Production: use Alembic migrations instead)
INIT_DB=true

# -------------------------
# Search & ranking
SEARCH_LEXICAL_BACKEND=none          # options: pgtrgm | none
SEARCH_VECTOR_BACKEND=none           # options: pgvector | milvus | none
SEARCH_HYBRID_WEIGHTS=sem:0.6,lex:0.4,rec:0.1,q:0.1
RAG_ENABLED=false
EMBED_MODEL=sentence-transformers/all-MiniLM-L6-v2

# -------------------------
# Catalog ingestion
CATALOG_REMOTES=["https://raw.githubusercontent.com/agent-matrix/catalog/main/index.json"]
INGEST_INTERVAL_MIN=15

# -------------------------
# MCP Gateway integration
MCP_GATEWAY_URL=http://127.0.0.1:4444
MCP_GATEWAY_TOKEN=supersecret

# -------------------------
# Misc
PIP_INDEX_URL=
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1

# -------------------------
# Default Postgres user/password (used in docker scripts)
POSTGRES_USER=matrix
POSTGRES_PASSWORD=matrix
POSTGRES_DB=matrixhub
